<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Cashivo MVP</title>
    <link rel="stylesheet" href="css/modern-styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header class="navbar" role="banner">
        <div class="nav-container">
            <a href="index.html" class="logo" aria-label="Cashivo homepage">Cashivo</a>
            <nav class="nav-links" role="navigation" aria-label="Main navigation">
                <a href="index.html">Home</a>
                <a href="dashboard-mvp.html" class="active" aria-current="page">Dashboard</a>
                <a href="profile.html">Profile</a>
                <a href="#" id="logoutBtn" role="button">Logout</a>
            </nav>
        </div>
    </header>

    <main class="container fade-in">
        <!-- Welcome Message -->
        <section class="welcome-section" aria-labelledby="welcome-heading">
            <h1 id="welcome-heading">Welcome back, <span id="welcomeUser">User</span>!</h1>
            <p>Here's your financial overview</p>
        </section>

        <!-- Financial Summary Cards -->
        <section class="dashboard-grid" aria-labelledby="summary-heading">
            <h2 id="summary-heading" class="sr-only">Financial Summary</h2>
            <div class="stat-card income" role="article">
                <div class="stat-icon" aria-hidden="true">üí∞</div>
                <div class="stat-info">
                    <h3>Total Income</h3>
                    <div class="stat-value" id="totalIncome" aria-label="Total income amount">$0.00</div>
                    <small class="stat-period">All time</small>
                </div>
            </div>
            <div class="stat-card expense" role="article">
                <div class="stat-icon" aria-hidden="true">üí∏</div>
                <div class="stat-info">
                    <h3>Total Expenses</h3>
                    <div class="stat-value" id="totalExpenses" aria-label="Total expenses amount">$0.00</div>
                    <small class="stat-period">All time</small>
                </div>
            </div>
            <div class="stat-card balance" role="article">
                <div class="stat-icon" aria-hidden="true">üìä</div>
                <div class="stat-info">
                    <h3>Balance</h3>
                    <div class="stat-value" id="balance" aria-label="Current balance amount">$0.00</div>
                    <small class="stat-period">Current balance</small>
                </div>
            </div>
            <div class="stat-card transactions" role="article">
                <div class="stat-icon" aria-hidden="true">üìù</div>
                <div class="stat-info">
                    <h3>Transactions</h3>
                    <div class="stat-value" id="transactionCount" aria-label="Total transaction count">0</div>
                    <small class="stat-period">Total recorded</small>
                </div>
            </div>
        </section>

        <!-- Quick Add Transaction Form -->
        <section class="card" id="addTransactionSection">
            <h3>üìù Add New Transaction</h3>
            <form id="transactionForm">
                <div class="form-row">
                    <div class="form-group">
                        <label for="type">Type</label>
                        <select id="type" class="form-select" required>
                            <option value="expense">üí∏ Expense</option>
                            <option value="income">üí∞ Income</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="amount">Amount ($)</label>
                        <input type="number" id="amount" step="0.01" min="0" class="form-input" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="category">Category</label>
                        <select id="category" class="form-select" required>
                            <!-- Categories populated by JavaScript -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="date">Date</label>
                        <input type="date" id="date" class="form-input" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="description">Description/Notes</label>
                    <input type="text" id="description" class="form-input"
                           placeholder="What was this transaction for?" required>
                </div>

                <!-- Photo Upload for Receipts/Bills -->
                <div class="form-group">
                    <label for="receiptInput">üì∏ Upload Receipt/Bill (Optional)</label>
                    <input type="file" id="receiptInput" accept="image/*" class="form-input">
                    <small class="file-info">Upload photos of receipts, bills, or invoices</small>
                </div>

                <button type="submit" class="btn btn-primary">üíæ Add Transaction</button>
            </form>
        </section>

        <!-- Edit Transaction Modal -->
        <div id="editTransactionModal" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>‚úèÔ∏è Edit Transaction</h3>
                    <button class="close-modal" onclick="cancelEdit()">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="editTransactionForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="editType">Type</label>
                                <select id="editType" class="form-select" required>
                                    <option value="expense">üí∏ Expense</option>
                                    <option value="income">üí∞ Income</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="editAmount">Amount ($)</label>
                                <input type="number" id="editAmount" step="0.01" min="0" class="form-input" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="editCategory">Category</label>
                                <select id="editCategory" class="form-select" required>
                                    <!-- Categories populated by JavaScript -->
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="editDate">Date</label>
                                <input type="date" id="editDate" class="form-input" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="editDescription">Description/Notes</label>
                            <input type="text" id="editDescription" class="form-input"
                                   placeholder="What was this transaction for?" required>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">üíæ Update Transaction</button>
                            <button type="button" class="btn btn-secondary" onclick="cancelEdit()">‚ùå Cancel</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Basic Chart for Visual Overview -->
        <section class="card">
            <h3>üìä Spending Overview</h3>
            <div class="chart-container">
                <canvas id="expenseChart"></canvas>
            </div>
        </section>

        <!-- Recent Transactions with Search/Filter -->
        <section class="card">
            <div class="section-header">
                <h3>üí≥ Recent Transactions</h3>
                <div class="simple-filters">
                    <input type="text" id="searchTransactions" placeholder="üîç Search transactions..." class="form-input">
                    <select id="filterType" class="form-select">
                        <option value="all">All Types</option>
                        <option value="income">üí∞ Income Only</option>
                        <option value="expense">üí∏ Expenses Only</option>
                    </select>
                </div>
            </div>
            
            <!-- Quick Stats Bar -->
            <div class="quick-stats">
                <div class="quick-stat">
                    <span class="stat-label">This Month:</span>
                    <span class="stat-income" id="monthlyIncome">+$0</span>
                    <span class="stat-expense" id="monthlyExpenses">-$0</span>
                    <span class="stat-net" id="monthlyNet">=$0</span>
                </div>
            </div>
            
            <div class="transactions-list" id="transactionsList">
                <!-- Transactions populated by JavaScript -->
            </div>
            
            <div class="load-more-section">
                <button id="loadMoreBtn" class="btn btn-secondary">Load More Transactions</button>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 Cashivo MVP. Simple. Effective. Personal Finance.</p>
        </div>
    </footer>

    <!-- Scripts for MVP -->
    <script type="module" src="js/mvp-dashboard.js"></script>
</body>
</html>
